\documentclass[../defence.tex]{subfiles}

\begin{document}
  \begin{frame}{Testing the pore opening process}
    \tikzsetnextfilename{wafer_296_processing_plan}
    %\tikzexternaldisable
    \scalebox{0.65}{
      \begin{tikzpicture}
        \pgfdeclarelayer{bg}    % declare background layer
        \pgfdeclarelayer{bbg}
        \pgfsetlayers{bbg,bg,main}
          \fill[rectangle,yellow!50] (0,0) rectangle (3,-1) node[pos=.5, color=black,align=center]{Wafer 296\\ $d=\SI{30}{\micro\meter}$};
          \fill[rectangle,red!50] (0,-1.5) rectangle (1,-2.5) node[pos=.5,color=black,align=center] {b\\ \faLineChart};
          \fill[rectangle,red!50] (1.5,-1.5) rectangle (2.5,-2.5) node[pos=.5,color=black,align=center] {a\\ \faLineChart};
          \fill[rectangle,red!50] (3,-1.5) rectangle (7.5,-2.5) node[pos=.5,color=black,align=center] {c, d, e, f, g, h, i, j, k, l};
          \fill[rectangle,red!50] (1.5,-3) rectangle (4.5,-4.5) node[pos=.5,color=black,align=center] {c'\\$t_\mathrm{immerse}=\SI{6,5}{\minute}$\\\ \faLineChart\hfill\faBinoculars};
          \fill[rectangle,red!50] (5,-3) rectangle (8,-4.5) node[pos=.5,color=black,align=center] {d'\\$t_\mathrm{immerse}=\SI{13}{\minute}$\\ \faLineChart\hfill\faBinoculars};
          \fill[rectangle,red!50] (8.5,-3) rectangle (11,-4.5) node[pos=.5,color=black,align=center] {e'\\$t_\mathrm{float}=\SI{13}{\minute}$\\ \faLineChart\hfill\faBinoculars};
          \fill[rectangle,red!50] (11.5,-3) rectangle (14,-4.5) node[pos=.5,color=black,align=center] {f'\\ $t_\mathrm{float}=\SI{26}{\minute}$\\ \faLineChart\hfill\faBinoculars};
          \fill[rectangle,green!50] (0,-5) rectangle (1,-6) node[pos=.5,color=black,align=center] {b'\\\faLineChart};
          \begin{pgfonlayer}{bg}
              \draw (1.5,-1)--(1.5,-1.25)--(5.25,-1.25)--(5.25,-1.5);
              \draw (2,-1.5)--(2,-1.25);
              \draw (1.5,-1.25)--(0.5,-1.25)--(0.5,-1.5);
              \draw (5.25,-2.5)--(5.25,-2.75)--(12.75,-2.75)--(12.75,-3);
              \draw (5.25,-2.75)--(3,-2.75)--(3,-3);
              \draw (6.5,-2.75)--(6.5,-3);
              \draw (9.75,-2.75)--(9.75,-3);
              \draw (.5,-2.5)--(.5,-5);
          \end{pgfonlayer}
          \begin{pgfonlayer}{bbg}
              \draw[dashed] (.5,-2) -- (14.5,-2) -- (15,-2.875) node[anchor=west,align=center] {closed\\pores};
              \draw[dashed] (3,-3.75) -- (14.5,-3.75) -- (15,-2.875);
              \draw[dashed] (.5,-5.5) -- (15,-5.5) node[anchor=west,align=center] {open\\pores};
          \end{pgfonlayer}
      \end{tikzpicture}}
  \end{frame}
\end{document}
